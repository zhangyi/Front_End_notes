<!DOCTYPE html>
<html>
<head>
<title>进度条</title>
<meta name="generator" content="editplus" />
<meta name="author" content="" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv='content-type' content='text/html; charset=utf-8' />
<style type="text/css">
*{margin: 0;padding: 0;}
body {color: #5d7883;font: 13px / 1.8em Simsun; height:100px;}
a:link, a:visited {color: #5d7883;text-decoration: none;}
a:hover {text-decoration: underline;}
.unline {text-decoration: underline !important;margin: 0 2px;}
.pro_bar {border:1px solid #6ebb3b; background: #f5fbf0; height:30px; line-height:30px; width:400px; padding:1px; margin-top:20px; margin-left:20px;}
.pro {background-color:#7cc74a; height:100%; overflow:hidden; text-align:center;}.
</style>
</head>
<body>

<div class="pro_bar"><div class="pro" style="width:50%" id="divPbInner">50%</div></div>

<script type="text/javascript">
	
function getEl(id) {
	return typeof id === 'string' ? document.getElementById(id) : id;
}

~(function() {
	var val = 0;

	var interval = setInterval(function() {
		val += Math.random() * 1;
		
		val = Math.floor(val * 100) / 100;
		
		if (val >= 100) {
			val = 100;

			clearInterval(interval);
				
			var fn = arguments.callee;
				
			setTimeout(function() {
				val = 0;
				interval = setInterval(fn, 50);
			}, 1 * 1000);
		}
		
		var el = getEl('divPbInner');

		el.style.width = el.parentNode.offsetWidth * val / 100 + 'px';
		el.innerHTML = val + "%";

	}, 50);
})();
</script>

</body>
</html>
